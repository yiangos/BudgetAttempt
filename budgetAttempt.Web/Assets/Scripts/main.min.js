/*! Angular Moment Picker - v0.10.1 - http://indrimuska.github.io/angular-moment-picker - (c) 2015 Indri Muska - MIT */
function Budget(n,t,i,r,u,f){n.newline={};n.line={};n.cat={};moment.locale(f);n.linedate=moment();n.line.Date=n.linedate.format("YYYY-MM-DD");n.line.TransactionType="";n.line.Person="";n.StartDate=moment();n.MinDate=moment().add(-1,"year");n.MaxDate=moment();n.LatestCount=10;n.categories=[];n.persons=[];n.latestTransactions=[];n.getLatestTransactions=function(){r.post(u+"/Budget.svc/json/transactions/latest",n.LatestCount,{headers:{"Content-Type":"application/json"}}).then(function(t){n.latestTransactions=t.data})};n.init=function(){r.get(u+"/Budget.svc/json/persons/all").then(function(t){n.persons=t.data});r.get(u+"/Budget.svc/json/categories/all").then(function(t){n.categories=t.data});n.getLatestTransactions()};n.onDateChange=function(){n.line.Date=n.linedate.format("YYYY-MM-DD")};n.addLine=function(){n.linefrm.$valid&&r.post(u+"/Budget.svc/json/transactions/add",n.line,{headers:{"Content-Type":"application/json"}}).then(function(){n.linefrm.$setPristine();n.linefrm.$setUntouched();n.line={};n.linedate=moment();n.line.Date=n.linedate.format("YYYY-MM-DD");n.line.TransactionType="";n.line.Person="";n.getLatestTransactions()})};n.addCategory=function(){n.ctgfrm.$valid&&r.post(u+"/Budget.svc/json/categories/create",n.cat,{headers:{"Content-Type":"application/json"}}).then(function(){n.ctgfrm.$setPristine();n.ctgfrm.$setUntouched();n.cat={};r.get(u+"/Budget.svc/json/categories/all").then(function(t){n.categories=t.data})})};n.init()}var budgetApp;(function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.i=function(n){return n},t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=17)})([function(n,t,i){"use strict";t.__esModule=!0;var u=i(1),r=i(2);t.KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13};t.isValidMoment=function(n){return r.isMoment(n)&&n.isValid()};t.toValue=function(n,i,r){var u=n;return t.isValidMoment(n)||(u=t.toMoment(n,i,r)),t.momentToValue(u,i)};t.toMoment=function(n,i,u){var f=r(n,i,u);return t.isValidMoment(f)||(f=undefined),f};t.momentToValue=function(n,i){return t.isValidMoment(n)?i?n.format(i):n.valueOf():undefined};t.valueToMoment=function(n,t){var i,f;return n?(i=t.format?r(n,t.format,t.locale):r(n),t.model&&(f=t.views.all.slice(0,t.views.all.indexOf(t.detectedMinView)),u.forEach(f,function(n){var r=t.views.precisions[n];i[r](t.model[r]())})),i):i};t.setValue=function(n,i,r,u){var f=t.isValidMoment(n)?n.clone():t.valueToMoment(n,i),e=t.momentToValue(f,i.format);i.model=t.updateMoment(i.model,f,i);r.$modelValue=t.updateMoment(r.$modelValue,f,i);u.ngModel!=u.momentPicker&&(i.value=e);u.ngModel&&(r.$setViewValue(e),r.$render())};t.updateMoment=function(n,i,r){if(t.isValidMoment(n)&&i){if(!n.isSame(i)){var f=r.views.all.slice(0,r.views.all.indexOf(r.detectedMaxView)+1);u.forEach(f,function(t){var u=r.views.precisions[t];n[u](i[u]())})}}else n=i;return n}},function(n){n.exports=angular},function(n){n.exports=moment},function(){},function(){},function(n,t,i){"use strict";var f,r,u;t.__esModule=!0;f=i(1);r=i(9);t.Provider=r["default"];u=i(7);t.Directive=u["default"];f.module("moment-picker",[]).provider("momentPicker",[function(){return new r["default"]}]).directive("momentPicker",["$timeout","$sce","$log","$window","momentPicker","$compile","$templateCache",function(n,t,i,r,f,e,o){return new u["default"](n,t,i,r,f,e,o)}])},function(n){n.exports='<div class=moment-picker> <div class="moment-picker-container {{view.selected}}-view" ng-class="{\'moment-picker-disabled\': disabled, open: view.isOpen}"> <div ng-if=additions.top class="moment-picker-addition top"><\/div> <table class=header-view ng-if=showHeader> <thead> <tr> <th ng-class="{disabled: !view.previous.selectable}" ng-bind-html=view.previous.label ng-click=view.previous.set()><\/th> <th ng-bind=view.title ng-click=view.setParentView()><\/th> <th ng-class="{disabled: !view.next.selectable}" ng-bind-html=view.next.label ng-click=view.next.set()><\/th> <\/tr> <\/thead> <\/table> <div class=moment-picker-specific-views> <table> <thead ng-if=views[view.selected].headers> <tr> <th ng-repeat="header in views[view.selected].headers" ng-bind=header><\/th> <\/tr> <\/thead> <tbody> <tr ng-repeat="row in views[view.selected].rows"> <td ng-repeat="item in row track by item.index" ng-class=item.class ng-bind=item.label ng-click="!disabled && views[view.selected].set(item)"><\/td> <\/tr> <\/tbody> <\/table> <\/div> <div ng-if=additions.bottom class="moment-picker-addition bottom"><\/div> <\/div> <\/div>'},function(n,t,i){"use strict";t.__esModule=!0;var u=i(1),e=i(2),o=i(8),f=i(13),r=i(0),s=i(6),h=function(){function n(n,t,i,h,c,l,a){var v=this;this.$timeout=n;this.$sce=t;this.$log=i;this.$window=h;this.provider=c;this.$compile=l;this.$templateCache=a;this.restrict="A";this.require="?ngModel";this.transclude=!0;this.template=s;this.scope={value:"=?momentPicker",model:"=?ngModel",locale:"@?",format:"@?",minView:"@?",maxView:"@?",startView:"@?",minDate:"=?",maxDate:"=?",startDate:"=?",disabled:"=?disable",position:"@?",inline:"@?",validate:"=?",autoclose:"=?",setOnSelect:"=?",isOpen:"=?",today:"=?",keyboard:"=?",showHeader:"=?",additions:"=?",change:"&?",selectable:"&?"};this.link=function(n,t,i,s,h){h(function(h){u.forEach(["locale","format","minView","maxView","startView","position","inline","validate","autoclose","setOnSelect","today","keyboard","showHeader","leftArrow","rightArrow","additions"],function(t){u.isDefined(n[t])||(n[t]=v.provider[t]);u.isDefined(i[t])||(i[t]=n[t])});i.ngModel||(s={});n.limits={minDate:r.toMoment(n.minDate,n.format,n.locale),maxDate:r.toMoment(n.maxDate,n.format,n.locale),isAfterOrEqualMin:function(t,i){return!u.isDefined(n.limits.minDate)||t.isAfter(n.limits.minDate,i)||t.isSame(n.limits.minDate,i)},isBeforeOrEqualMax:function(t,i){return!u.isDefined(n.limits.maxDate)||t.isBefore(n.limits.maxDate,i)||t.isSame(n.limits.maxDate,i)},isSelectable:function(t,r){var f=!0;try{u.isFunction(n.selectable)&&i.selectable&&(f=n.selectable({date:t,type:r}))}catch(e){v.$log.error(e)}return n.limits.isAfterOrEqualMin(t,r)&&n.limits.isBeforeOrEqualMax(t,r)&&f},checkValue:function(){r.isValidMoment(s.$modelValue)&&n.validate&&(n.limits.isAfterOrEqualMin(s.$modelValue)||r.setValue(n.limits.minDate,n,s,i),n.limits.isBeforeOrEqualMax(s.$modelValue)||r.setValue(n.limits.maxDate,n,s,i))},checkView:function(){u.isDefined(n.view.moment)||(n.view.moment=e().locale(n.locale));n.limits.isAfterOrEqualMin(n.view.moment)||(n.view.moment=n.limits.minDate.clone());n.limits.isBeforeOrEqualMax(n.view.moment)||(n.view.moment=n.limits.maxDate.clone());n.view.update();n.view.render()}};n.views={all:["decade","year","month","day","hour","minute"],precisions:{decade:"year",year:"month",month:"date",day:"hour",hour:"minute",minute:"second"},formats:{decade:"Y{1,2}(?!Y)|YYYY|[Ll]{1,4}(?!T)",year:"M{1,4}(?![Mo])|Mo|Q",month:"[Dd]{1,4}(?![Ddo])|DDDo|[Dd]o|[Ww]{1,2}(?![Wwo])|[Ww]o|[Ee]|L{1,2}(?!T)|l{1,2}",day:"[Hh]{1,2}|LTS?",hour:"m{1,2}|[Ll]{3,4}|LT(?!S)",minute:"s{1,2}|S{1,}|X|LTS"},detectMinMax:function(){if(n.detectedMinView=n.detectedMaxView=undefined,n.format){var t,i;u.forEach(n.views.formats,function(r,f){var e=new RegExp("("+r+")(?![^[]*])","g");n.format.match(e)&&(u.isDefined(t)||(t=f),i=f)});t=u.isDefined(t)?Math.max(0,n.views.all.indexOf(t)):0;i=u.isDefined(i)?Math.min(n.views.all.length-1,n.views.all.indexOf(i)):n.views.all.length-1;t>n.views.all.indexOf(n.minView)&&(n.minView=n.views.all[t]);i<n.views.all.indexOf(n.maxView)&&(n.maxView=n.views.all[i]);n.detectedMinView=n.views.all[t];n.detectedMaxView=n.views.all[i]}},decade:new f.DecadeView(n,s,v.provider),year:new f.YearView(n,s,v.provider),month:new f.MonthView(n,s,v.provider),day:new f.DayView(n,s,v.provider),hour:new f.HourView(n,s,v.provider),minute:new f.MinuteView(n,s,v.provider)};n.view={moment:undefined,value:undefined,isOpen:!1,selected:n.startView,update:function(){n.view.value=r.momentToValue(n.view.moment,n.format)},toggle:function(){n.view.isOpen?n.view.close():n.view.open()},open:function(){n.disabled||n.view.isOpen||n.inline||(n.isOpen=!0,n.view.isOpen=!0,document.body.appendChild(n.picker[0]),n.view.position())},close:function(){n.view.isOpen&&!n.inline&&(n.isOpen=!1,n.view.isOpen=!1,n.view.selected=n.startView,n.picker[0].parentNode.removeChild(n.picker[0]))},position:function(){if(n.view.isOpen&&!n.position&&!n.inline){var u=t[0],f=n.picker[0],e=n.picker.hasClass("top"),s=n.picker.hasClass("right"),i=o.getOffset(t[0]),h=i.top-v.$window.pageYOffset,p=i.left-v.$window.pageXOffset,w=v.$window.innerWidth,b=v.$window.innerHeight,r=h+v.$window.pageYOffset-f.offsetHeight>0&&h>b/2,c=p+f.offsetWidth>w,l=i.top+(r?0:u.offsetHeight)+"px",a=i.left+"px",y=u.offsetWidth+"px";!e&&r&&n.picker.addClass("top");e&&!r&&n.picker.removeClass("top");!s&&c&&n.picker.addClass("right");s&&!c&&n.picker.removeClass("right");n.picker.css("top")!==l&&n.picker.css("top",l);n.picker.css("left")!==a&&n.picker.css("left",a);n.picker.css("width")!==y&&n.picker.css("width",y)}},keydown:function(t){var f=n.views[n.view.selected],i=n.views.precisions[n.view.selected].replace("date","day"),e=v.provider[i+"sStep"]||1,o=[r.KEYS.up,r.KEYS.left].indexOf(t.keyCode)>=0?"subtract":"add",u=function(t){var u=t?f.perLine:1,r=n.view.moment.clone()[o](e*u,i);n.limits.isSelectable(r,i)&&(n.view.moment=r,n.view.update(),n.view.render())};switch(t.keyCode){case r.KEYS.up:case r.KEYS.down:t.preventDefault();n.view.isOpen?u(!0):n.view.open();break;case r.KEYS.left:case r.KEYS.right:if(!n.view.isOpen)break;t.preventDefault();u();break;case r.KEYS.enter:if(!n.view.isOpen)break;n.view.change(i);t.preventDefault();break;case r.KEYS.escape:n.view.toggle()}n.$evalAsync()},unit:function(){return n.view.selected=="decade"?10:1},precision:function(){return n.view.selected.replace("decade","year")},title:"",previous:{label:v.$sce.trustAsHtml(n.leftArrow),selectable:!0,set:function(){n.view.previous.selectable&&(n.view.moment.subtract(n.view.unit(),n.view.precision()),n.view.update(),n.view.render())}},next:{selectable:!0,label:v.$sce.trustAsHtml(n.rightArrow),set:function(){n.view.next.selectable&&(n.view.moment.add(n.view.unit(),n.view.precision()),n.view.update(),n.view.render())}},setParentView:function(){n.view.change(n.views.all[Math.max(0,n.views.all.indexOf(n.view.selected)-1)])},render:function(){var t=n.view.moment.clone().startOf(n.view.precision()).subtract(n.view.unit(),n.view.precision()),i=n.view.moment.clone().endOf(n.view.precision()).add(n.view.unit(),n.view.precision());n.view.previous.selectable=n.limits.isAfterOrEqualMin(t,n.view.precision());n.view.previous.label=v.$sce.trustAsHtml(n.view.previous.selectable?n.leftArrow:"&nbsp;");n.view.next.selectable=n.limits.isBeforeOrEqualMax(i,n.view.precision());n.view.next.label=v.$sce.trustAsHtml(n.view.next.selectable?n.rightArrow:"&nbsp;");n.view.title=n.views[n.view.selected].render()},change:function(t){var u=n.views.all.indexOf(t),e=n.views.all.indexOf(n.minView),o=n.views.all.indexOf(n.maxView),f=function(){r.setValue(n.view.moment,n,s,i);n.view.update();i.ngModel&&s.$commitViewValue()};n.setOnSelect&&f();u<0||u>o?(n.setOnSelect||f(),n.autoclose&&v.$timeout(n.view.close)):u>=e&&(n.view.selected=t)}};t.prepend(h);n.picker=u.element(t[0].querySelectorAll(".moment-picker"));n.container=u.element(n.picker[0].querySelectorAll(".moment-picker-container"));n.input=t[0].tagName.toLowerCase()!="input"&&t[0].querySelectorAll("input").length>0?u.element(t[0].querySelectorAll("input")):u.element(t[0]);n.input.addClass("moment-picker-input").attr("tabindex",0);(n.position||"").split(" ").forEach(function(t){return n.picker.addClass(t)});n.inline?(t.after(n.picker),n.picker.addClass("inline")):n.picker[0].parentNode.removeChild(n.picker[0]);v.$timeout(function(){u.forEach(n.additions||{},function(t,i){var r=u.element(n.container[0].querySelector(".moment-picker-addition."+i)),f=v.$templateCache.get(t),e=v.$compile(f)(n.$parent);r.append(e)})});n.views.detectMinMax();n.limits.checkView();v.$timeout(function(){i.ngModel?(!s.$modelValue&&n.value&&s.$setViewValue(n.value),s.$commitViewValue(),s.$render()):n.value&&(s.$modelValue=r.valueToMoment(n.value,n));n.startDate?n.view.moment=r.toMoment(n.startDate,n.format,n.locale):r.isValidMoment(s.$modelValue)&&(n.view.moment=s.$modelValue.clone());n.view.update();n.view.render()});i.ngModel&&(s.$parsers.push(function(t){return r.updateMoment(s.$modelValue,r.valueToMoment(t,n),n)||!0}),s.$formatters.push(function(t){return r.momentToValue(t,n.format)||""}),s.$viewChangeListeners.push(function(){i.ngModel!=i.momentPicker&&(n.value=s.$viewValue)}),s.$validators.minDate=function(t){return n.validate||!r.isValidMoment(t)||n.limits.isAfterOrEqualMin(t)},s.$validators.maxDate=function(t){return n.validate||!r.isValidMoment(t)||n.limits.isBeforeOrEqualMax(t)});i.ngModel!=i.momentPicker&&n.$watch("value",function(t,u){t!==u&&r.setValue(t,n,s,i)});n.$watch(function(){return r.momentToValue(s.$modelValue,n.format)},function(t,f){var o,h;t!=f&&(o=r.valueToMoment(t,n),r.setValue(o,n,s,i),n.limits.checkValue(),n.view.moment=(o||e().locale(n.locale)).clone(),n.view.update(),n.view.render(),u.isFunction(n.change)&&i.change&&(h=r.valueToMoment(f,n),n.$evalAsync(function(){return n.change({newValue:o,oldValue:h})})))});n.$watch(function(){return s.$modelValue&&s.$modelValue.valueOf()},function(){var t=(r.isValidMoment(s.$modelValue)?s.$modelValue:e().locale(n.locale)).clone();t.isSame(n.view.moment)||(n.view.moment=t,n.view.update(),n.view.render())});n.$watch("view.selected",function(){return n.view.render()});n.$watchGroup(["minView","maxView"],function(){n.views.detectMinMax();n.startView=n.views.all[Math.max(Math.min(n.views.all.indexOf(n.startView),n.views.all.indexOf(n.maxView)),n.views.all.indexOf(n.minView))];n.view.selected=n.startView});n.$watchGroup([function(){return r.toValue(n.minDate,n.format,n.locale)},function(){return r.toValue(n.maxDate,n.format,n.locale)}],function(){u.forEach(["minDate","maxDate"],function(t){n.limits[t]=r.toMoment(n[t],n.format,n.locale)});n.limits.checkValue();n.limits.checkView();n.view.render()});n.$watch(function(){return r.toValue(n.startDate,n.format,n.locale)},function(t,i){t!=i&&(n.view.moment=r.valueToMoment(t,n),n.view.update(),n.view.render())});i.$observe("locale",function(t){return n.locale=t});n.$watch("locale",function(t,f){u.isDefined(f)&&t!=f&&(r.isValidMoment(s.$modelValue)&&r.setValue(s.$modelValue.locale(t),n,s,i),r.isValidMoment(n.view.moment)&&(n.view.moment=n.view.moment.locale(t)),r.isValidMoment(n.limits.minDate)&&(n.limits.minDate=n.limits.minDate.locale(t)),r.isValidMoment(n.limits.maxDate)&&(n.limits.maxDate=n.limits.maxDate.locale(t)),n.view.render())});n.$watch("validate",n.limits.checkValue);n.$watch("isOpen",function(t){n.inline?n.view.isOpen=!0:u.isDefined(t)&&t!=n.view.isOpen&&n.view.toggle()});var c=function(t){t&&t.preventDefault();n.input[0].focus()};n.input.on("focus click touchstart",function(){return n.$evalAsync(n.view.open)}).on("blur",function(){return n.$evalAsync(n.view.close)}).on("keydown",function(t){n.keyboard&&n.view.keydown(t)});t.on("click touchstart",function(){return c()});n.container.on("mousedown",function(n){return c(n)});u.element(v.$window).on("resize scroll",n.view.position);n.$on("$destroy",function(){n.input.off("focus click touchstart blur keydown");t.off("click touchstart");n.container.off("mousedown");n.picker.remove();u.element(v.$window).off("resize scroll",n.view.position)})})}}return n}();t["default"]=h},function(n,t){"use strict";t.__esModule=!0;t.getOffset=function(n){if(n){if(!n.getClientRects().length)return{top:0,left:0};var f=function(n){return n!=null&&n===n.window},e=function(n){return f(n)?n:n.nodeType===9&&n.defaultView},t=n.getBoundingClientRect();if(!t.width&&!t.height)return t;var i=n.ownerDocument,r=e(i),u=i.documentElement;return{top:t.top+r.pageYOffset-u.clientTop,left:t.left+r.pageXOffset-u.clientLeft}}}},function(n,t,i){"use strict";t.__esModule=!0;var r=i(1),u=function(){function n(){this.settings={locale:"en",format:"L LTS",minView:"decade",maxView:"minute",startView:"year",inline:!1,validate:!0,autoclose:!0,setOnSelect:!1,today:!1,keyboard:!1,showHeader:!0,leftArrow:"&larr;",rightArrow:"&rarr;",yearsFormat:"YYYY",monthsFormat:"MMM",daysFormat:"D",hoursFormat:"HH:[00]",hoursStart:0,hoursEnd:23,minutesStep:5,minutesStart:0,minutesEnd:59,secondsFormat:"ss",secondsStep:1,secondsStart:0,secondsEnd:59}}return n.prototype.options=function(n){return r.extend(this.settings,n),r.copy(this.settings)},n.prototype.$get=function(){return this.settings},n}();t["default"]=u},function(n,t,i){"use strict";t.__esModule=!0;var r=i(0),u=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=4;this.rows={}}return n.prototype.render=function(){var n=this.$scope.view.moment.clone().startOf("day").hour(this.provider.hoursStart),t,i,u;for(this.rows={},t=0;t<=this.provider.hoursEnd-this.provider.hoursStart;t++)i=Math.floor(t/this.perLine),u=this.$scope.limits.isSelectable(n,"hour"),this.rows[i]||(this.rows[i]=[]),this.rows[i].push({index:t,label:n.format(this.provider.hoursFormat),year:n.year(),month:n.month(),date:n.date(),hour:n.hour(),"class":[this.$scope.keyboard&&n.isSame(this.$scope.view.moment,"hour")?"highlighted":"",u?r.isValidMoment(this.$ctrl.$modelValue)&&n.isSame(this.$ctrl.$modelValue,"hour")?"selected":"":"disabled"].join(" ").trim(),selectable:u}),n.add(1,"hours");return this.$scope.view.moment.format("LL")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date).hour(n.hour),this.$scope.view.update(),this.$scope.view.change("hour"))},n}();t["default"]=u},function(n,t,i){"use strict";t.__esModule=!0;var r=i(0),u=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=4;this.rows={}}return n.prototype.render=function(){var n=this.$scope.view.moment.clone(),f=Math.floor(n.year()/10)*10-1,t,i,u;for(this.rows={},n.year(f),t=0;t<12;t++)i=Math.floor(t/this.perLine),u=this.$scope.limits.isSelectable(n,"year"),this.rows[i]||(this.rows[i]=[]),this.rows[i].push({index:n.year(),label:n.format(this.provider.yearsFormat),year:n.year(),"class":[this.$scope.keyboard&&n.isSame(this.$scope.view.moment,"year")?"highlighted":"",!u||[0,11].indexOf(t)>=0?"disabled":r.isValidMoment(this.$ctrl.$modelValue)&&n.isSame(this.$ctrl.$modelValue,"year")?"selected":""].join(" ").trim(),selectable:u}),n.add(1,"years");return[n.subtract(2,"years").format("YYYY"),n.subtract(9,"years").format("YYYY")].reverse().join(" - ")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year),this.$scope.view.update(),this.$scope.view.change("year"))},n}();t["default"]=u},function(n,t,i){"use strict";t.__esModule=!0;var r=i(1),u=i(2),f=i(0),e=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=4;this.rows={}}return n.prototype.render=function(){var e=0,n=this.$scope.view.moment.clone().startOf("hour").minute(this.provider.minutesStart),o=this.provider.minutesFormat||u.localeData(this.$scope.locale).longDateFormat("LT").replace(/[aA]/,"").trim(),i,t,r;for(this.rows={},i=0;i<=this.provider.minutesEnd-this.provider.minutesStart;i+=this.provider.minutesStep)t=Math.floor(e/this.perLine),r=this.$scope.limits.isSelectable(n,"minute"),this.rows[t]||(this.rows[t]=[]),this.rows[t].push({index:n.minute(),label:n.format(o),year:n.year(),month:n.month(),date:n.date(),hour:n.hour(),minute:n.minute(),"class":[this.$scope.keyboard&&n.isSame(this.$scope.view.moment,"minute")?"highlighted":"",r?f.isValidMoment(this.$ctrl.$modelValue)&&n.isSame(this.$ctrl.$modelValue,"minute")?"selected":"":"disabled"].join(" ").trim(),selectable:r}),e++,n.add(this.provider.minutesStep,"minutes");return this.$scope.keyboard&&this.highlightClosest(),this.$scope.view.moment.clone().startOf("hour").format("lll")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date).hour(n.hour).minute(n.minute),this.$scope.view.update(),this.$scope.view.change("minute"))},n.prototype.highlightClosest=function(){var t=this,i=[],n;(r.forEach(this.rows,function(n){r.forEach(n,function(n){Math.abs(n.minute-t.$scope.view.moment.minute())<t.provider.minutesStep&&i.push(n)})}),n=i.sort(function(n,i){return Math.abs(n.minute-t.$scope.view.moment.minute())>Math.abs(i.minute-t.$scope.view.moment.minute())?1:0})[0],n&&n.minute-this.$scope.view.moment.minute()!=0)&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date).hour(n.hour).minute(n.minute),this.$scope.view.update(),n.selectable&&(n["class"]=(n["class"]+" highlighted").trim()))},n}();t["default"]=e},function(n,t,i){"use strict";var r,u,f,e,o,s;t.__esModule=!0;r=i(11);t.DecadeView=r["default"];u=i(16);t.YearView=u["default"];f=i(15);t.MonthView=f["default"];e=i(10);t.DayView=e["default"];o=i(12);t.HourView=o["default"];s=i(14);t.MinuteView=s["default"]},function(n,t,i){"use strict";t.__esModule=!0;var r=i(1),u=i(0),f=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=6;this.rows={}}return n.prototype.render=function(){var f=0,n=this.$scope.view.moment.clone().startOf("minute").second(this.provider.secondsStart),i,t,r;for(this.rows={},i=0;i<=this.provider.secondsEnd-this.provider.secondsStart;i+=this.provider.secondsStep)t=Math.floor(f/this.perLine),r=this.$scope.limits.isSelectable(n,"second"),this.rows[t]||(this.rows[t]=[]),this.rows[t].push({index:n.second(),label:n.format(this.provider.secondsFormat),year:n.year(),month:n.month(),date:n.date(),hour:n.hour(),minute:n.minute(),second:n.second(),"class":[this.$scope.keyboard&&n.isSame(this.$scope.view.moment,"second")?"highlighted":"",r?u.isValidMoment(this.$ctrl.$modelValue)&&n.isSame(this.$ctrl.$modelValue,"second")?"selected":"":"disabled"].join(" ").trim(),selectable:r}),f++,n.add(this.provider.secondsStep,"seconds");return this.$scope.keyboard&&this.highlightClosest(),this.$scope.view.moment.clone().startOf("minute").format("lll")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date).hour(n.hour).minute(n.minute).second(n.second),this.$scope.view.update(),this.$scope.view.change())},n.prototype.highlightClosest=function(){var t=this,i=[],n;(r.forEach(this.rows,function(n){r.forEach(n,function(n){Math.abs(n.second-t.$scope.view.moment.second())<t.provider.secondsStep&&i.push(n)})}),n=i.sort(function(n,i){return Math.abs(n.second-t.$scope.view.moment.second())>Math.abs(i.second-t.$scope.view.moment.second())?1:0})[0],n&&n.second-this.$scope.view.moment.second()!=0)&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date).hour(n.hour).minute(n.minute).second(n.second),this.$scope.view.update(),n.selectable&&(n["class"]=(n["class"]+" highlighted").trim()))},n}();t["default"]=f},function(n,t,i){"use strict";t.__esModule=!0;var u=i(1),r=i(2),f=i(0),e=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=r.weekdays().length;this.rows=[]}return n.prototype.render=function(){var t=this,s=this.$scope.view.moment.month(),n=this.$scope.view.moment.clone().startOf("month").startOf("week").hour(12),e={},o=n.week(),h=o+5,i;for(this.rows=[],i=o;i<=h;i++)e[i]=Array.apply(null,Array(this.perLine)).map(function(){var i=t.$scope.limits.isSelectable(n,"day"),r={index:n.date(),label:n.format(t.provider.daysFormat),year:n.year(),month:n.month(),date:n.date(),"class":[t.$scope.keyboard&&n.isSame(t.$scope.view.moment,"day")?"highlighted":"",!!t.$scope.today&&n.isSame(new Date,"day")?"today":"",!i||n.month()!=s?"disabled":f.isValidMoment(t.$ctrl.$modelValue)&&n.isSame(t.$ctrl.$modelValue,"day")?"selected":""].join(" ").trim(),selectable:i};return n.add(1,"days"),r});return u.forEach(e,function(n){return t.rows.push(n)}),this.headers=r.weekdays().map(function(n,i){return r().locale(t.$scope.locale).startOf("week").add(i,"day").format("dd")}),this.$scope.view.moment.format("MMMM YYYY")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year).month(n.month).date(n.date),this.$scope.view.update(),this.$scope.view.change("day"))},n}();t["default"]=e},function(n,t,i){"use strict";t.__esModule=!0;var r=i(2),u=i(0),f=function(){function n(n,t,i){this.$scope=n;this.$ctrl=t;this.provider=i;this.perLine=4;this.rows={}}return n.prototype.render=function(){var n=this,t=this.$scope.view.moment.clone().startOf("year"),i=r.monthsShort();return this.rows={},i.forEach(function(i,r){var f=Math.floor(r/n.perLine),e=n.$scope.limits.isSelectable(t,"month");n.rows[f]||(n.rows[f]=[]);n.rows[f].push({index:t.month(),label:t.format(n.provider.monthsFormat),year:t.year(),month:t.month(),"class":[n.$scope.keyboard&&t.isSame(n.$scope.view.moment,"month")?"highlighted":"",e?u.isValidMoment(n.$ctrl.$modelValue)&&t.isSame(n.$ctrl.$modelValue,"month")?"selected":"":"disabled"].join(" ").trim(),selectable:e});t.add(1,"months")}),this.$scope.view.moment.format("YYYY")},n.prototype.set=function(n){n.selectable&&(this.$scope.view.moment.year(n.year).month(n.month),this.$scope.view.update(),this.$scope.view.change("month"))},n}();t["default"]=f},function(n,t,i){i(5);i(3);n.exports=i(4)}]);var price=function(){return{require:"ngModel",link:function(n,t,i,r){i.$set("ngTrim","false");thou=i.thousep||",";dec=i.decsep||".";mantiss=Number(i.mantiss||2);var u=function(n,t){var i,r;return typeof n=="undefined"?n=String(Number(0)/(t?1:Math.pow(10,mantiss))):typeof n=="number"?n=String(n/(t?1:Math.pow(10,mantiss))):typeof n=="string"&&(i=new RegExp("\\"+thou,"g"),r=new RegExp("\\"+dec,"g"),n=String(Number(n.replace(i,"").replace(r,"."))/(t?1:Math.pow(10,mantiss)))),n=(n==="0"?"0.0":n).split("."),n[1]=n[1]||"0",n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+thou)+dec+(n[1].length<mantiss?(n[1]+"0").substring(0,mantiss):n[1])},f=function(t){n.$applyAsync(function(){r.$setViewValue(t||"");r.$render()})},e=function(n){var h=u(r.$modelValue,!0),t={pos:/[+]/.test(n),neg:/[-]/.test(n)},i,e,o,s;return t.has=t.pos||t.neg,t.both=t.pos&&t.neg,!n||t.has&&n.length===1||r.$modelValue&&Number(n)===0?(i=!n||r.$modelValue&&Number()===0?"":n,r.$modelValue!==i&&f(i),""):(e=String(n||""),o=t.both&&r.$modelValue>=0||!t.both&&t.neg?"-":"",i=e.replace(/[^0-9]/g,""),s=o+u(angular.copy(i)),h!==e&&f(s),Number(o+i)/Math.pow(10,mantiss)||0)},o=function(n){if(n){var t=String(n).split(".");t[1]=t[1]||"0";n=t[0]+dec+(t[1].length<mantiss?(t[1]+"0").substring(0,mantiss):t[1])}return e(n)};r.$parsers.push(e);r.$formatters.push(o)}}},transactionInput=function(){return{restrict:"E",templateUrl:"Views/LineInput.html",link:function(){}}},transactionLatest=function(){return{restrict:"E",templateUrl:"Views/LatestTransactions.html",link:function(){}}},categoryInput=function(){return{restrict:"E",templateUrl:"Views/CategoryInput.html",link:function(){}}};budgetApp=angular.module("budgetApp",["moment-picker"]);location.hostname==="localhost"||location.hostname==="127.0.0.1"?budgetApp.value("baseurl","http://localhost:64432"):budgetApp.value("baseurl","//"+location.hostname);budgetApp.value("locale","el");budgetApp.directive("price",price);budgetApp.directive("transactionInput",transactionInput);budgetApp.directive("transactionLatest",transactionLatest);budgetApp.directive("categoryInput",categoryInput);budgetApp.controller("budgetcontroller",["$scope","$filter","$window","$http","baseurl","locale",Budget]);budgetApp.controller("navigationcontroller",["$scope",function(){}]),function(n){n.fn.backtube=function(t){var r=this.length-1,i=!1;return this.each(function(u){var s,h;if(typeof YT!="object"&&(s=document.createElement("script"),s.src="https://www.youtube.com/iframe_api",h=document.getElementsByTagName("script")[0],h.parentNode.insertBefore(s,h)),r===u){typeof t=="string"&&(t={id:t});document.body==this&&(i=!0,n(this).addClass("backtube-body"));t=n.extend({},n.backtube.defaults,t);var e=this,o=n(t.selector.mute).not(t.selector.mute+"-init"),f=n(t.template),c=f.filter(t.selector.container),l=!1,y=function(){setTimeout(function(){c.removeClass(t.classes.fadeIn)},t.time.fadeIn)},p=function(i){n.backtube.active=!1;n(document).data("backtube-playing",!1);n(document.body).removeClass(t.classes.playing);c.toggleClass(t.classes.fadeIn,i);setTimeout(function(){f.remove()},t.time.fadeIn)},a=function(){n(document).data("backtube-playing",!1);n(document.body).removeClass(t.classes.playing);f.remove()},v=function(){c.addClass(t.classes.fadeOut);setTimeout(function(){a();typeof t.onEnd=="function"&&t.onEnd()},1100)},w=function(i){i.data===YT.PlayerState.PLAYING?(setTimeout(function(){n.backtube.player.mute();n(document).data("playing",!0);n(document.body).addClass(t.classes.playing).removeClass(t.classes.init);y()},200),typeof t.playLength=="number"&&(l=setTimeout(v,t.playLength*1e3)),typeof t.onStart=="function"&&t.onStart()):i.data===YT.PlayerState.PAUSED?(v(),typeof t.onEnd=="function"&&t.onEnd()):i.data===YT.PlayerState.ENDED&&(t.loop?n.backtube.player.seekTo(0):(p(t.fadeIn),typeof t.onEnd=="function"&&t.onEnd()))},b=function(i){n(document).data("backtube-mute")&&i.target.mute();typeof t.onReady=="function"&&t.onReady();l&&clearTimeout(l);n(document.body).addClass(t.classes.init);setTimeout(function(){n(document.body).addClass(t.classes.button)},4e3)};n(e).hasClass(t.classes.wrapper)||n(e).addClass(t.classes.wrapper);a(t.fadeIn);o.addClass(t.selector.mute+"-init").toggleClass(t.classes.mute,n(document).data("backtube-mute")||t.mute);o.on("touchend click",function(t){if(t.preventDefault(),n(document).data("backtube-mute")){n(document).data("backtube-mute",!1);try{n.backtube.player.unMute()}catch(i){}}else{n(document).data("mute",!0);try{n.backtube.player.mute()}catch(i){}}if(t.type==="click")n(this).one("mouseleave",function(){o.toggleClass("mute",n(document).data("mute"))});else o.toggleClass("mute",n(document).data("mute"))});window.onYouTubeIframeAPIReady=function(){n.backtube.active=!0;i?f.prependTo(e):f.insertBefore(e);n.backtube.player=new YT.Player("backtube-player",{width:250,height:250,videoId:t.id,playerVars:{controls:0,showinfo:0,disablekb:1,iv_load_policy:3,modestbranding:1,autoplay:t.autoplay?1:0,wmode:"transparent"},events:{onReady:b,onStateChange:w}})};setTimeout(function(){typeof YT=="object"&&(typeof YT.Player!="function"||n.backtube.active||onYouTubeIframeAPIReady())},50)}})};n.backtube={defaults:{template:'<div class="backtube-container backtube-fade-in"><div id="backtube-player"><\/div><\/div><div class="backtube-shield"><\/div>',classes:{wrapper:"backtube-wrapper",playing:"backtube-playing",init:"backtube-init",fadeIn:"backtube-fade-in",fadeOut:"backtube-fade-out",mute:"backtube-mute",button:"backtube-playbutton"},selector:{mute:".backtube-mute",container:".backtube-container"},time:{fadeIn:800},id:!1,zIndex:10,loop:!1,mute:!0,autoplay:!0,fadeIn:!0,onReady:null,onStart:null,onEnd:null,playLength:null},active:!1,player:null,id:null,stop:function(){typeof n.backtube.player=="object"&&n.backtube.player.pauseVideo()}}}(jQuery),function(n){n(document.body).backtube({id:"NZlfxWMr7nc",loop:!0})}(jQuery);